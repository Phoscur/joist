<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />

    <link rel="icon" type="image/svg+xml" href="favicon.svg" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Counter</title>

    <script type="importmap">
      {
        "imports": {
          "@joist/di": "/node_modules/@joist/di/target/lib.js",
          "@joist/element": "/node_modules/@joist/element/target/lib.js",
          "@joist/observable": "/node_modules/@joist/observable/target/lib.js",
          "tslib": "/node_modules/tslib/tslib.es6.js"
        }
      }
    </script>

    <!--prettier-ignore-->
    <script>
      var D=Object.defineProperty;var R=e=>{throw TypeError(e)};var P=(e,t,a)=>t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var g=(e,t,a)=>P(e,typeof t!="symbol"?t+"":t,a),T=(e,t,a)=>t.has(e)||R("Cannot "+a);var b=(e,t,a)=>(T(e,t,"read from private field"),a?a.call(e):t.get(e)),w=(e,t,a)=>t.has(e)?R("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,a),_=(e,t,a,n)=>(T(e,t,"write to private field"),n?n.call(e,a):t.set(e,a),a);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function a(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=a(r);fetch(r.href,o)}})();function A(e,t,a,n,r,o){function i(p){if(p!==void 0&&typeof p!="function")throw new TypeError("Function expected");return p}for(var s=n.kind,c=s==="getter"?"get":s==="setter"?"set":"value",h=!t&&e?n.static?e:e.prototype:null,d=t||(h?Object.getOwnPropertyDescriptor(h,n.name):{}),f,m=!1,E=a.length-1;E>=0;E--){var N={};for(var u in n)N[u]=u==="access"?{}:n[u];for(var u in n.access)N.access[u]=n.access[u];N.addInitializer=function(p){if(m)throw new TypeError("Cannot add initializers after decoration has completed");o.push(i(p||null))};var l=(0,a[E])(s==="accessor"?{get:d.get,set:d.set}:d[c],N);if(s==="accessor"){if(l===void 0)continue;if(l===null||typeof l!="object")throw new TypeError("Object expected");(f=i(l.get))&&(d.get=f),(f=i(l.set))&&(d.set=f),(f=i(l.init))&&r.unshift(f)}else(f=i(l))&&(s==="field"?r.unshift(f):d[c]=f)}h&&Object.defineProperty(h,n.name,d),m=!0}function k(e,t,a){for(var n=arguments.length>2,r=0;r<t.length;r++)a=n?t[r].call(e,a):t[r].call(e);return n?a:void 0}var v;class j{constructor(t,...a){w(this,v);_(this,v,document.createElement("template")),b(this,v).innerHTML=O(t)}apply(t){t.shadowRoot&&t.shadowRoot.append(b(this,v).content.cloneNode(!0))}}v=new WeakMap;function z(e,...t){return new j(e,...t)}var y;class W{constructor(t,...a){w(this,y);_(this,y,new CSSStyleSheet),b(this,y).replaceSync(O(t))}apply(t){t.shadowRoot&&(t.shadowRoot.adoptedStyleSheets=[...t.shadowRoot.adoptedStyleSheets,b(this,y)])}}y=new WeakMap;function V(e){return new W(e)}function O(e){let t="";for(let a=0;a<e.length;a++)t+=e[a];return t}Symbol.metadata??(Symbol.metadata=Symbol("Symbol.metadata"));class F{constructor(){g(this,"attrs",[]);g(this,"listeners",new Map);g(this,"onReady",new Set)}}class H extends WeakMap{read(t){return this.has(t)||this.set(t,new F),this.get(t)}}const C=new H;function B(e){return function({get:a,set:n},r){const o=K(r.name);return C.read(r.metadata).attrs.push({propName:r.name,attrName:o,observe:!0}),{set(s){s===!0?this.setAttribute(o,""):s===!1?this.removeAttribute(o):this.setAttribute(o,String(s)),n.call(this,s)},get(){const s=a.call(this),c=this.getAttribute(o);return c!==null?c===""?!0:typeof s=="number"?Number(c):c:s}}}}function K(e){let t;if(typeof e=="symbol")if(e.description)t=e.description;else throw new Error("Cannot handle Symbol property without description");else t=e;return t.toLowerCase().replaceAll(" ","-")}function q(e,t){return function(n,r){C.read(r.metadata).listeners.set(e,{cb:n,selector:i=>i.shadowRoot??i})}}function x(e){return function(a,n){var o;const r=C.read(n.metadata);return n.addInitializer(function(){e!=null&&e.tagName&&(customElements.get(e.tagName)||customElements.define(e.tagName,this))}),o=class extends a{constructor(...s){if(super(...s),e!=null&&e.shadow){this.shadowRoot||this.attachShadow({mode:"open"});for(let c of e.shadow)typeof c=="function"?c(this):c.apply(this)}for(let[c,{cb:h,selector:d}]of r.listeners)d(this).addEventListener(c,h.bind(this));for(let c of r.onReady)c.call(this)}connectedCallback(){this.isConnected&&(I(this,r.attrs),super.connectedCallback&&super.connectedCallback())}},g(o,"observedAttributes",r.attrs.filter(({observe:s})=>s).map(({attrName:s})=>s)),o}}function I(e,t){for(let{propName:a,attrName:n}of t){const r=Reflect.get(e,a);r!=null&&r!==""&&(typeof r=="boolean"?r===!0&&e.setAttribute(n,""):e.setAttribute(n,String(r)))}}const S="#:";class J extends Map{}function U(e){const t=new J;let a=null;return function(r){r!=null&&r.refresh&&(a=null,t.clear()),a?$(t,a):(a=o=>String(Reflect.get(this,o)),X(this,t,a))}}function X(e,t,a){const n=document.createTreeWalker(e.shadowRoot||e,NodeFilter.SHOW_ELEMENT);for(;n.nextNode();)G(n.currentNode,t,a)}function $(e,t){for(let[a,n]of e){const r=t(n);a.nodeType===Node.ATTRIBUTE_NODE&&L(a)?M(a,t):r!==a.nodeValue&&(a.textContent=r)}}function G(e,t,a){const n=e;for(let r of n.attributes)if(r.name.startsWith(`${S}bind`))n.textContent=a(r.value),t.set(n,r.value);else{const o=r.value.trim();if(L(r))M(r,a),t.set(r,r.value);else if(o.startsWith(S)){const i=o.replace(S,"");r.value=a(i),t.set(r,i)}}return null}function L(e){return e.name.startsWith(S)}function M(e,t){const a=e.name.replace(S,"");e.ownerElement&&((e.value.startsWith("!")?!t(e.value.replace("!","")):t(e.value))?e.ownerElement.setAttribute(a,""):e.ownerElement.removeAttribute(a))}(()=>{var d,f,m;let e=[x({tagName:"joist-counter",shadow:[V`*{font-size:200%}:host{display:block}#value{width:4rem;display:inline-block;text-align:center}button{width:4rem;height:4rem;border:none;border-radius:10px;background-color:#2e8b57;color:#fff;cursor:pointer}`,z`<button id="dec">-</button><div id="value" #:bind="value"></div><button id="inc">+</button>`]})],t,a=[],n,r=HTMLElement,o=[],i,s=[],c=[],h;return m=class extends r{constructor(){super(...arguments);w(this,d,(k(this,o),k(this,s,0)));w(this,f,(k(this,c),U()))}get value(){return b(this,d)}set value(u){_(this,d,u)}attributeChangedCallback(){b(this,f).call(this)}onClick(u){const{id:l}=u.target;switch(l){case"inc":this.value++;break;case"dec":this.value--;break}}},d=new WeakMap,f=new WeakMap,n=m,(()=>{const u=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;i=[B()],h=[q("click")],A(m,null,i,{kind:"accessor",name:"value",static:!1,private:!1,access:{has:l=>"value"in l,get:l=>l.value,set:(l,p)=>{l.value=p}},metadata:u},s,c),A(m,null,h,{kind:"method",name:"onClick",static:!1,private:!1,access:{has:l=>"onClick"in l,get:l=>l.onClick},metadata:u},null,o),A(null,t={value:n},e,{kind:"class",name:n.name,metadata:u},null,a),n=t.value,u&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:u}),k(n,a)})(),n})();
    </script>
  </head>

  <body>
    <style>
      * {
        box-sizing: border-box;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu,
          Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        line-height: 1.4em;
      }
    </style>

    <joist-counter></joist-counter>

    <script type="module" src="./target/counter.js"></script>
  </body>
</html>
